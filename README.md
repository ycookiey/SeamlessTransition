# Seamless Transition

ページ遷移時の「Flash of Unstyled Content (FOUC)」およびブラウザ既定背景色による「ちらつき」を排除することを目指したChrome拡張機能のプロジェクトです。

## ⚠️ 開発中止

**このプロジェクトは技術的な制約により開発を中止しました。**

### 理由

Chrome拡張機能（Manifest V3）では、ブラウザのレンダリングパイプラインに十分早いタイミングで介入することができません。

```
ナビゲーション開始
    ↓
ブラウザが現在のページをクリア
    ↓
既定背景色を描画 ← ここでフラッシュが発生
    ↓
拡張機能のContent Script実行許可 ← 介入できるのはここから
    ↓
オーバーレイ挿入 ← 既に手遅れ
```

拡張機能が動作を許可される**前に**ブラウザが既定背景を描画してしまうため、どんなに早くオーバーレイを挿入しても「ちらつき」を完全に防ぐことはできませんでした。

### 試したアプローチ

1. `document_start` での最速実行
2. CSS注入（JSより先に読み込み）
3. 同期的なオーバーレイ生成（ストレージ読み取りを待たない）
4. `prefers-color-scheme` によるOSテーマ連動

いずれも効果がありませんでした。

### 代替案

- **Vivaldi**: カスタムCSSやテーマ設定で軽減可能
- **ブラウザ起動オプション**: `--force-dark-mode` など
- **根本解決**: ブラウザ本体の修正が必要

## ドキュメント

- [ソフトウェア要件定義書 (SRS)](docs/srs.md)

## 実装（参考）

`src/` ディレクトリに実装コードがありますが、上記の理由により期待通りに動作しません。
